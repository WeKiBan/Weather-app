{"code":"!function(e){var t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&\"object\"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,\"default\",{enumerable:!0,value:e}),2&t&&\"string\"!=typeof e)for(var r in e)n.d(o,r,function(t){return e[t]}.bind(null,r));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,\"a\",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p=\"\",n(n.s=0)}([function(e,t){let n=g(\".menu-toggle\"),o=g(\".main-section\"),r=g(\"body\"),a=g(\".locations\"),i=(g(\".new-location-form\"),g(\".new-location-input\")),c=g(\".new-location-btn\"),l=g(\".locations\"),d=(g(\".current-weather-container\"),Array.from(document.querySelectorAll(\".daily-weather-container\")));let u,s=JSON.parse(localStorage.getItem(\"weather.locations\"))||[],f=\"current\",p=[\"Monday\",\"Tuesday\",\"Wednesday\",\"Thursday\",\"Friday\",\"Saturday\",\"Sunday\"];function g(e){return document.querySelector(e)}function y(){localStorage.setItem(\"weather.locations\",JSON.stringify(s))}function h(e){let t=g(\".current-icon\"),n=g(\".current-description\"),a=g(\"[data-current-location]\"),i=g(\"[data-current-temp]\"),c=g(\".date\");var l,u;a.innerText=e.location.split(\",\")[0],(l=e.lat,u=e.lon,fetch(`https://api.openweathermap.org/data/2.5/onecall?lat=${l}&lon=${u}&exclude={part}&appid=2e44188ae7e877bf4fe23dac83d52bae`).then(e=>e.json()).then(e=>e).catch(e=>console.log(e))).then(e=>{let a=(new Date).toLocaleDateString(\"en-US\",{timeZone:\"\"+e.timezone,weekday:\"long\",month:\"short\",day:\"numeric\"});i.innerText=Math.round(e.current.temp-273.15),t.src=`./images/icons/${e.current.weather[0].icon}.png`,n.innerText=e.current.weather[0].description,c.innerText=a,e.current.dt>e.current.sunrise&&e.current.dt<e.current.sunset?(r.style.backgroundImage=\"url('images/day-background.png')\",o.style.color=\"rgb(63, 63, 63)\"):(r.style.backgroundImage=\"url('images/night-background.png')\",o.style.color=\"#fff\");let l=function(e){let t=p,n=t.findIndex(t=>t===e);return t.slice(n+1).concat(t.slice(0,n))}(a.split(\",\")[0]);for(var u=0;u<d.length;u++){let t=d[u],n=e.daily[u+1];const o=t.querySelector(\".icon\"),r=t.querySelector(\".day-temp\"),a=t.querySelector(\".day-title\");r.innerText=Math.round(n.temp.day-273.15),o.src=`./images/icons/${n.weather[0].icon}.png`,a.innerText=l[u]}})}function m(){navigator.geolocation?navigator.geolocation.getCurrentPosition((function(e){fetch(`https://eu1.locationiq.com/v1/reverse.php?key=a0e79d40c8a474&lat=${e.coords.latitude}&lon=${e.coords.longitude}&format=json`).then(e=>e.json()).then(e=>{u={id:\"current\",location:`${e.address.city}, ${e.address.country}`,lat:e.lat,lon:e.lon},h(u)})})):console.log(\"no location available\")}n.addEventListener(\"click\",(function(e){r.classList.toggle(\"open\")})),c.addEventListener(\"click\",e=>{e.preventDefault(),function(){const e=i.value.trim().replace(/ /g,\"%20\");fetch(`https://eu1.locationiq.com/v1/search.php?key=a0e79d40c8a474&q=${e}&format=json`).then(e=>e.json()).then(e=>{!function(e,t,n){var o={id:Date.now().toString(),location:e,lon:t,lat:n};s.push(o),f=o.id,y(),function(){!function(e){for(;e.childNodes.length>1;)e.removeChild(e.lastChild)}(a);const e=document.createElement(\"li\");e.classList.add(\"location-item\"),e.innerText=\"Current Location\",e.dataset.locationId=\"current\",e.id=\"current\",a.appendChild(e),s.length}(),h(\"current\"===f?u:s.find(e=>e.id===f))}(e[0].display_name.split(\",\")[0]+\",\"+e[0].display_name.split(\",\")[1],e[0].lon,e[0].lat)})}(),i.value=null}),l.addEventListener(\"click\",e=>{\"li\"===e.target.tagName.toLowerCase()&&(\"current\"===e.target.dataset.locationId?m():h(s.find(t=>t.id===e.target.dataset.locationId)),f=e.target.dataset.locationId,Array.from(l.children).forEach(e=>{e.dataset.locationId!==f?e.classList.remove(\"active-location\"):e.classList.add(\"active-location\")}),y())}),o.style.height=window.innerHeight+\"px\",m(),h(u),g(\"#current\").classList.add(\"active-location\")}]);","extractedComments":[]}