{"code":"!function(e){var t={};function n(o){if(t[o])return t[o].exports;var a=t[o]={i:o,l:!1,exports:{}};return e[o].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&\"object\"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,\"default\",{enumerable:!0,value:e}),2&t&&\"string\"!=typeof e)for(var a in e)n.d(o,a,function(t){return e[t]}.bind(null,a));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,\"a\",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p=\"\",n(n.s=0)}([function(e,t){let n=g(\".menu-toggle\"),o=g(\".main-section\"),a=g(\"body\"),r=g(\".locations\"),i=(g(\".new-location-form\"),g(\".new-location-input\")),c=g(\".new-location-btn\"),l=g(\".locations\"),d=(g(\".current-weather-container\"),Array.from(document.querySelectorAll(\".daily-weather-container\")));let s,u=JSON.parse(localStorage.getItem(\"weather.locations\"))||[],f=\"current\",p=[\"Monday\",\"Tuesday\",\"Wednesday\",\"Thursday\",\"Friday\",\"Saturday\",\"Sunday\"];function g(e){return document.querySelector(e)}function h(){m(),y(),v(\"current\"===f?s:u.find(e=>e.id===f))}function m(){localStorage.setItem(\"weather.locations\",JSON.stringify(u))}function y(){!function(e){for(;e.childNodes.length>1;)e.removeChild(e.lastChild)}(r);const e=document.createElement(\"li\");e.classList.add(\"location-item\"),e.innerText=\"Current Location\",e.dataset.locationId=\"current\",e.id=\"current\",r.appendChild(e),u.forEach(e=>{const t=document.createElement(\"li\"),n=document.createElement(\"i\");n.classList.add(\"fas\"),n.classList.add(\"fa-trash-alt\"),t.appendChild(n),n.addEventListener(\"click\",e=>{u=u.filter(t=>t.id!==e.target.parentElement.dataset.locationId),f=\"current\",h()}),t.classList.add(\"location-item\"),t.innerText=e.location,t.dataset.locationId=e.id,e.id===f&&t.classList.add(\"active-location\"),t.appendChild(n),r.appendChild(t)})}function v(e){let t=g(\".current-icon\"),n=g(\".current-description\"),r=g(\"[data-current-location]\"),i=g(\"[data-current-temp]\"),c=g(\".date\");var l,s;r.innerText=e.location.split(\",\")[0],(l=e.lat,s=e.lon,fetch(`https://api.openweathermap.org/data/2.5/onecall?lat=${l}&lon=${s}&exclude={part}&appid=2e44188ae7e877bf4fe23dac83d52bae`).then(e=>e.json()).then(e=>e).catch(e=>console.log(e))).then(e=>{let r=(new Date).toLocaleDateString(\"en-US\",{timeZone:\"\"+e.timezone,weekday:\"long\",month:\"short\",day:\"numeric\"});i.innerText=Math.round(e.current.temp-273.15),t.src=`./images/icons/${e.current.weather[0].icon}.png`,n.innerText=e.current.weather[0].description,c.innerText=r,e.current.dt>e.current.sunrise&&e.current.dt<e.current.sunset?(a.style.backgroundImage=\"url('images/day-background.png')\",o.style.color=\"rgb(63, 63, 63)\"):(a.style.backgroundImage=\"url('images/night-background.png')\",o.style.color=\"#fff\");let l=function(e){let t=p,n=t.findIndex(t=>t===e);return t.slice(n+1).concat(t.slice(0,n))}(r.split(\",\")[0]);for(var s=0;s<d.length;s++){let t=d[s],n=e.daily[s+1];const o=t.querySelector(\".icon\"),a=t.querySelector(\".day-temp\"),r=t.querySelector(\".day-title\");a.innerText=Math.round(n.temp.day-273.15),o.src=`./images/icons/${n.weather[0].icon}.png`,r.innerText=l[s]}})}function b(){navigator.geolocation?navigator.geolocation.getCurrentPosition((function(e){fetch(`https://eu1.locationiq.com/v1/reverse.php?key=a0e79d40c8a474&lat=${e.coords.latitude}&lon=${e.coords.longitude}&format=json`).then(e=>e.json()).then(e=>{s={id:\"current\",location:`${e.address.city}, ${e.address.country}`,lat:e.lat,lon:e.lon},v(s)})})):console.log(\"no location available\")}n.addEventListener(\"click\",(function(e){a.classList.toggle(\"open\")})),c.addEventListener(\"click\",e=>{e.preventDefault(),function(){const e=i.value.trim().replace(/ /g,\"%20\");fetch(`https://eu1.locationiq.com/v1/search.php?key=a0e79d40c8a474&q=${e}&format=json`).then(e=>e.json()).then(e=>{!function(e,t,n){var o={id:Date.now().toString(),location:e,lon:t,lat:n};u.push(o),f=o.id,h()}(e[0].display_name.split(\",\")[0]+\",\"+e[0].display_name.split(\",\")[1],e[0].lon,e[0].lat)})}(),i.value=null}),l.addEventListener(\"click\",e=>{\"li\"===e.target.tagName.toLowerCase()&&(\"current\"===e.target.dataset.locationId?b():v(u.find(t=>t.id===e.target.dataset.locationId)),f=e.target.dataset.locationId,Array.from(l.children).forEach(e=>{e.dataset.locationId!==f?e.classList.remove(\"active-location\"):e.classList.add(\"active-location\")}),m())}),o.style.height=window.innerHeight,console.log(window.innerHeight),b(),y(),g(\"#current\").classList.add(\"active-location\")}]);","extractedComments":[]}